---
title: "S1: 無限個体群・離散時間レプリケーターダイナミクス"
subtitle: "レプリケーション"
author: 
  name: "山本 嵩記"
  url: "https://github.com/yamanori99"
date: today
---

## S1-1 レプリケーション

S1-1: 無限個体群・レプリケーターダイナミクスのシミュレーション

Figure 2-3 をS1-1とする [@cochran2019]。

ペイオフのパラメータはいかである。(デフォルトとする)

-   Produce Game \> Shirk: 6, Work: 5, Toil: 4
-   Partition Game \> Low: 4, Med: 5, High: 6

code: <https://github.com/llamajones24/Inequity-sims>

```{r}
#| label: compile Paper_code_link.java
# pathに注意。レンダリング (qmdファイルがあるディレクトリ) とエディタチャンク (コンソール) 内では, 実行されるディレクトリが異なることがある。
system("javac -d bin src/Paper_code_link.java")
```

::::: columns

::: column

パラメータ:

-   初期化, エピソードの回数
-   ゲーム, ステップの回数
-   Shirk Payoff (Low Contribution)
-   Work Payoff (Mediun Contribution)
-   Toil Payoff (High Contribution)
-   Low Payoff (Low Demand)
-   Medium Payoff (Medium Demand)
-   High Payoff (High Demand)

Input:

```{r}
#| label: display-params-S1-1
replication_content <- readLines("params/replication-java.txt")
cat(replication_content, sep = "\n")
```

:::

::: column

均衡に至った回数:

-   LLHH equilibrium
-   LMHM equilibrium
-   LHHL equilibrium
-   MLMH equilibrium
-   MMMM equilibrium

実行:

```{r}
#| label: execute-S1-1
#| code-fold: true
# Run the Java program and capture the output
java_output <- system("java -cp bin Paper_code_link < params/replication-java.txt", intern = TRUE)

# Write the Java program output to result.txt
writeLines(java_output, "results/replication-java.txt")
# Display the Java program output
cat(java_output, sep = "\n")
```

:::

:::


@cochran2019 論文の結果との比較:

![生産・分配条件の吸引域](images/Screenshot%202024-10-14%20at%2015.42.17.png)

## S1-2レプリケーション

@cochran2019 が Figure 3, 4, 5で示したシナリオをS1-2とする。

S1-2のペイオフは, 以下である。

-   Produce Game \> Shirk: 5, Work: 3, Toil: 1
-   Partition Game \> Low: 3, Med: 5, High: 7

Produce Gameでは, そのプロジェクトへの選好が表現されている。@cochran2019 はペイオフによっては, このシナリオは報酬が少ないと予想されるとき、個人が労働する価値がないかもしれないものとしている。

**実行**

```{r}
#| label: execute-S1-2
# Run the Java program and capture the output
java_output <- system("java -cp bin Paper_code_link < params/replication2-java.txt", intern = TRUE)

# Write the Java program output to result.txt
writeLines(java_output, "results/replication2-java.txt")
# Display the Java program output
cat(java_output, sep = "\n")
```

論文の結果は以下である [@cochran2019]。

![条件つきの生産・分配のエージェント・ベース・モデルの結果](images/Screenshot%202024-10-15%20at%202.27.38.png)

(このキャプション気になるな。エージェントベースなのか? 条件というのはペイオフの条件だと思うが)

S1-2についても問題なし。